<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>è®¢é˜…åœ°å€è½¬æ¢å·¥å…· - Sing-Box-XPlus</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 2rem; max-width: 900px; margin: auto; }
    textarea { width: 100%; height: 200px; padding: 1rem; margin-bottom: 1rem; font-family: monospace; }
    button { padding: 0.8rem 1.2rem; font-size: 1rem; background: #28a745; color: white; border: none; border-radius: 5px; }
    button:hover { background: #218838; cursor: pointer; }
    h1 { color: #444; }
  </style>
</head>
<body>
  <h1>ğŸŒ è®¢é˜…åœ°å€è½¬æ¢å·¥å…·</h1>
  <p>å°†ä½ çš„è®¢é˜…é“¾æ¥ç²˜è´´åœ¨ä¸‹æ–¹ï¼Œç‚¹å‡»è½¬æ¢å°†è§£æå¹¶æ˜¾ç¤ºå¯ç”¨èŠ‚ç‚¹ã€‚</p>

  <textarea id="subInput" placeholder="è¾“å…¥è®¢é˜…åœ°å€æˆ–å†…å®¹ï¼ˆæ”¯æŒ base64ï¼‰"></textarea>
  <button onclick="convertSub()">è½¬æ¢ä¸ºèŠ‚ç‚¹</button>

  <h2>èŠ‚ç‚¹ç»“æœï¼š</h2>
  <textarea id="output" placeholder="è¿™é‡Œå°†æ˜¾ç¤ºèŠ‚ç‚¹ä¿¡æ¯" readonly></textarea>

  <script>
    function decodeBase64(str) {
      try {
        return decodeURIComponent(escape(window.atob(str)));
      } catch (e) {
        return "âš ï¸ æ— æ³•è§£ç ï¼Œè¯·æ£€æŸ¥æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚";
      }
    }

    function convertSub() {
      let input = document.getElementById("subInput").value.trim();
      let result = "";

      if (/^https?:\/\//.test(input)) {
        result = "âš ï¸ æš‚ä¸æ”¯æŒç›´æ¥è®¿é—® URLï¼Œè¯·å…ˆæ‰‹åŠ¨å¤åˆ¶è®¢é˜…å†…å®¹";
      } else {
        const decoded = decodeBase64(input);
        const lines = decoded.split("\n").filter(Boolean);
        result = lines.map(line => decodeURIComponent(line)).join("\n");
      }

      document.getElementById("output").value = result;
    }
  </script>
</body>
</html>
